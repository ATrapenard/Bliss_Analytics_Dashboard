{% extends "_layout.html" %}

{% block title %}Edit Supplier{% endblock %}

{% block content %}
<style>
    .form-container {
        max-width: 700px;
        margin: 0 auto;
        /* Center the form card */
    }

    textarea {
        min-height: 80px;
    }

    input[type="text"],
    input[type="email"],
    input[type="tel"],
    input[type="url"],
    textarea {
        width: 100%;
    }
</style>

<div class="form-container content-card">
    <h1>Edit Supplier</h1>
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <div class="flash-{{ category }}">{{ message }}</div>
    {% endfor %}
    {% endif %}
    {% endwith %}

    {% if supplier %}
    <form method="POST" action="{{ url_for('data.update_supplier', id=supplier.id) }}">
        <div>
            <label for="name">Supplier Name</label>
            <input type="text" id="name" name="name" required value="{{ supplier.name }}">
        </div>
        <div>
            <label for="contact_person">Contact Person</label>
            <input type="text" id="contact_person" name="contact_person" value="{{ supplier.contact_person or '' }}">
        </div>
        <div>
            <label for="email">Email</label>
            <input type="email" id="email" name="email" value="{{ supplier.email or '' }}">
        </div>
        <div>
            <label for="phone">Phone</label>
            <input type="tel" id="phone" name="phone" value="{{ supplier.phone or '' }}">
        </div>
        <div>
            <label for="website">Website</label>
            <input type="url" id="website" name="website" value="{{ supplier.website or '' }}"
                placeholder="https://...">
        </div>
        <div>
            <label for="notes">Notes</label>
            <textarea id="notes" name="notes">{{ supplier.notes or '' }}</textarea>
        </div>
        <button type="submit" class="submit-btn">Save Changes</button>
    </form>
    {% else %}
    <p>Supplier not found.</p>
    {% endif %}
    <div style="margin-top: 20px;">
        <a href="{{ url_for('data.suppliers_page') }}">&larr; Back to Suppliers List</a>
    </div>
</div>
{% endblock %}